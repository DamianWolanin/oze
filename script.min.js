var App=new Vue({el:"#app",data:{generalForm:generalForm,video:{show:!1,id:""},active:{burgerMenu:!1}},methods:{scrollTo:function(e){window.location.href="#"+e},paneli:function(){var e=this.generalForm.paneli;return paneli(e)},monokrystalicznych:function(){var e=this.generalForm.paneli;return monokrystalicznych(e)},lat:function(){var e=this.generalForm.zwrotPoLatachY;return lat(e)},miesiecy:function(){var e=this.generalForm.zwrotPoLatachM;return miesiecy(e)},stopni:function(e){return stopni(e)},numberFormat:function(e,o,r,a){return parseFloat(e).toFixed(o).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+a)},obliczWielkoscInstalacji:function(){var e,o,r,a,t=5700,n=4500,s=4300,i=4200;if("Dom"==this.generalForm.type?(e=6600,o=1.72207,r=360,a=.8,this.generalForm.vat=8):(e=3500,o=1.734,r=330,a=.7,this.generalForm.vat=23),this.generalForm.mocPanel=r,this.generalForm.kosztRabat=0,this.generalForm.sumaDofinansowan=0,this.generalForm.sumaDofinansowanB=0,this.generalForm.sumaDofinansowanProcent=0,this.generalForm.powerConsumption>0){this.generalForm.rocznie=0,"zl"==this.generalForm.powerConsumptionUnit?(this.generalForm.rocznie=parseInt((this.generalForm.powerConsumption-this.generalForm.oplataMiesiecznaStala)/.67*12),this.generalForm.rocznieZl=parseInt(12*this.generalForm.powerConsumption)):(this.generalForm.rocznie=parseInt(12*this.generalForm.powerConsumption),this.generalForm.rocznieZl=parseInt(.67*this.generalForm.powerConsumption*12+12*this.generalForm.oplataMiesiecznaStala)),console.log(this.generalForm.rocznie);var l=(this.generalForm.rocznie*this.generalForm.konsumpcja/100+this.generalForm.rocznie*(1-this.generalForm.konsumpcja/100)/a)/(this.generalForm.kWhM/1e3)*(1/(this.generalForm.procentMocy/100*(1-this.generalForm.utrataMocy/100)));if(this.generalForm.mocDokladna=Math.ceil(l)/1e3,this.generalForm.moc=Math.ceil(l/r)*r/1e3,this.generalForm.moc>10){a=.7;l=(this.generalForm.rocznie*this.generalForm.konsumpcja/100+this.generalForm.rocznie*(1-this.generalForm.konsumpcja/100)/a)/(this.generalForm.kWhM/1e3)*(1/(this.generalForm.procentMocy/100*(1-this.generalForm.utrataMocy/100)));this.generalForm.mocDokladna=Math.ceil(l)/1e3,this.generalForm.moc=Math.ceil(l/dm)*r/1e3}if(this.generalForm.paneli=Math.ceil(this.generalForm.rocznie*a/r),this.generalForm.moc<this.generalForm.mocMinimalnaInstalacji&&(this.generalForm.paneli=8,this.generalForm.moc=r*this.generalForm.paneli/1e3),this.generalForm.powierzchnia=(this.generalForm.paneli*o).toFixed(2),"Dom"==this.generalForm.type){if(this.generalForm.moc<3){var m=2.5,h=3;e=900-(this.generalForm.moc-m)/(h-m)*900+5700,r1=100}else if(this.generalForm.moc<3.5){m=3,h=3.5;e=900-(this.generalForm.moc-m)/(h-m)*900+4800,r1=100}else if(this.generalForm.moc<4){m=3.5,h=4;e=300-(this.generalForm.moc-m)/(h-m)*300+4500,r1=100}else if(this.generalForm.moc<4.5){m=4,h=4.5;e=100-(this.generalForm.moc-m)/(h-m)*100+4400,r1=100}else if(this.generalForm.moc<5){m=4.5,h=5;e=50-(this.generalForm.moc-m)/(h-m)*50+4350,r1=100}else if(this.generalForm.moc<8){m=5,h=8;e=50-(this.generalForm.moc-m)/(h-m)*50+4300,r1=100}else if(this.generalForm.moc<10){m=8,h=10;e=400-(this.generalForm.moc-m)/(h-m)*400+3900,r1=100}else if(this.generalForm.moc<20){m=10,h=20;e=50-(this.generalForm.moc-m)/(h-m)*50+3850,r1=100}else e=3700,r1=100;this.generalForm.koszt=(this.generalForm.moc*e*1.08).toFixed(2),this.generalForm.kosztNetto=0,this.generalForm.kosztRabat=(this.generalForm.koszt*r1/100).toFixed(2)}else{if(this.generalForm.moc<3){m=2.5,h=3;e=t+(900-(this.generalForm.moc-m)/(h-m)*900),r1=100}else if(this.generalForm.moc<3.5){m=3,h=3.5;e=900-(this.generalForm.moc-m)/(h-m)*900+4800,r1=100}else if(this.generalForm.moc<4){m=3.5,h=4;e=n+(300-(this.generalForm.moc-m)/(h-m)*300),r1=100}else if(this.generalForm.moc<4.5){m=4,h=4.5;e=100-(this.generalForm.moc-m)/(h-m)*100+4400,r1=100}else if(this.generalForm.moc<5){m=4.5,h=5;e=s+(100-(this.generalForm.moc-m)/(h-m)*100),r1=100}else if(this.generalForm.moc<8){m=5,h=8;e=i+(100-(this.generalForm.moc-m)/(h-m)*100),r1=100}else if(this.generalForm.moc<10){m=8,h=10;e=300-(this.generalForm.moc-m)/(h-m)*300+3900,r1=100}else if(this.generalForm.moc<20){m=10,h=20;e=400-(this.generalForm.moc-m)/(h-m)*400+3500,r1=100}else if(this.generalForm.moc<30){m=20,h=30;e=100-(this.generalForm.moc-m)/(h-m)*100+3400,r1=100}else if(this.generalForm.moc<40){m=30,h=40;e=200-(this.generalForm.moc-m)/(h-m)*200+3200,r1=100}else if(this.generalForm.moc<45){m=40,h=45;e=100-(this.generalForm.moc-m)/(h-m)*100+3100,r1=100}else if(this.generalForm.moc<50){m=45,h=50;e=100-(this.generalForm.moc-m)/(h-m)*100+3e3,r1=100}else e=3e3,r1=100;this.generalForm.koszt=(this.generalForm.moc*e*1.23).toFixed(2),this.generalForm.kosztNetto=(this.generalForm.moc*e).toFixed(2),this.generalForm.kosztRabat=(this.generalForm.kosztNetto*r1/100).toFixed(2)}"Dom"==this.generalForm.type&&(this.generalForm.kosztRabat>58e3?this.generalForm.kosztMaksymalny=53e3:this.generalForm.kosztMaksymalny=this.generalForm.kosztRabat,this.generalForm.moc>=2&&this.generalForm.moc<=10?this.generalForm.kosztRabat>1e4&&this.generalForm.kosztRabat<=58e3?this.generalForm.sumaDofinansowan=3e3+(this.generalForm.kosztRabat-3e3)*this.generalForm.stawkaPodatku:this.generalForm.kosztRabat>58e3?this.generalForm.sumaDofinansowan=3e3+this.generalForm.kosztMaksymalny*this.generalForm.stawkaPodatku:this.generalForm.sumaDofinansowan=this.generalForm.kosztRabat/2+(this.generalForm.kosztRabat-this.generalForm.kosztRabat/2)*this.generalForm.stawkaPodatku:this.generalForm.kosztRabat<=53e3?this.generalForm.sumaDofinansowan=this.generalForm.kosztRabat*this.generalForm.stawkaPodatku:this.generalForm.sumaDofinansowan=this.generalForm.kosztMaksymalny*this.generalForm.stawkaPodatku,this.generalForm.sumaDofinansowanB=this.generalForm.sumaDofinansowan,this.generalForm.kosztRabat>15e3?this.generalForm.sumaDofinansowan+=5e3:this.generalForm.kosztRabat>12e3?this.generalForm.sumaDofinansowan+=4e3:this.generalForm.kosztRabat>1e4?this.generalForm.sumaDofinansowan+=3e3:this.generalForm.kosztRabat>8e3&&(this.generalForm.sumaDofinansowan+=2e3),this.generalForm.sumaDofinansowan>this.generalForm.kosztRabat&&(this.generalForm.sumaDofinansowan=this.generalForm.kosztRabat),this.generalForm.sumaDofinansowan=this.generalForm.sumaDofinansowan.toFixed(2),this.generalForm.sumaDofinansowanProcent=(100*this.generalForm.sumaDofinansowan/this.generalForm.kosztRabat).toFixed(2)),this.generalForm.produkcja=(this.generalForm.moc*this.generalForm.kWhM*.67*25).toFixed(2),this.generalForm.produkcjaRoczna=(this.generalForm.moc*this.generalForm.kWhM*this.generalForm.procentMocy/100*(1-this.generalForm.utrataMocy/100)).toFixed(2),this.generalForm.produkcjaRocznaZl=.67*this.generalForm.produkcjaRoczna,this.generalForm.kosztRabat>0?this.generalForm.oszczednosc=this.generalForm.produkcja-this.generalForm.kosztRabat-300*this.generalForm.oplataMiesiecznaStala:this.generalForm.oszczednosc=this.generalForm.produkcja-this.generalForm.koszt-300*this.generalForm.oplataMiesiecznaStala,this.generalForm.oszczednosc25=this.generalForm.oszczednosc+this.generalForm.sumaDofinansowanB,this.generalForm.rata=(0-this.obliczRate(.00475,120,this.generalForm.kosztRabat)).toFixed(2),this.generalForm.zwrotPoLatach=(this.generalForm.kosztRabat-this.generalForm.sumaDofinansowanB)/(this.generalForm.produkcja/25-12*this.generalForm.oplataMiesiecznaStala),this.generalForm.zwrotPoLatachY=Math.floor(this.generalForm.zwrotPoLatach),this.generalForm.zwrotPoLatachM=Math.floor(12*(this.generalForm.zwrotPoLatach-this.generalForm.zwrotPoLatachY))}},obliczWielkosc:function(e=0){self=this,35!=this.generalForm.katPaneli||180!=this.generalForm.polozenieWzgledemPoludnia?axios.post("/api/",{akcja:"oblicz-procent",katPaneli:this.generalForm.katPaneli,polozenieWzgledemPoludnia:this.generalForm.polozenieWzgledemPoludnia}).then(function(e){console.log(e),200==e.data.status.code?(self.generalForm.procentMocy=e.data.data.procentMocy,self.obliczWielkoscInstalacji()):alert(e.data.status.message)}).catch(function(e){}):(this.generalForm.procentMocy=100,this.generalForm.stopni="stopni",this.obliczWielkoscInstalacji())},obliczRate:function(e,o,r,a,t){return obliczRate(e,o,r,a,t)},wyslijworkingForm:function(){axios.post("/api/",{akcja:"roboczy",data:this.generalForm}).then(function(e){}).catch(function(e){})},wyslijgeneralForm:function(){self=this,this.wyslijworkingForm(),""==this.generalForm.email&&""==this.generalForm.phone||0==this.generalForm.agree?(this.generalForm.error=!0,0==this.generalForm.agree?alert(this.generalForm.zgodaTxt):alert(this.generalForm.telTxt)):axios.post("/api/",{akcja:"wyslij-wiadomosc",name:this.generalForm.name,phone:this.generalForm.phone,email:this.generalForm.email,type:this.generalForm.type,city:this.generalForm.city,voivodeship:this.generalForm.voivodeship,deadline:this.generalForm.deadline,powerConsumption:this.generalForm.powerConsumption,powerConsumptionUnit:this.generalForm.powerConsumptionUnit,message:this.generalForm.message,agree:this.generalForm.agree,moc:this.generalForm.moc,paneli:this.generalForm.paneli,linkCl:this.generalForm.linkCl,data:this.generalForm}).then(function(e){200==e.data.status.code?(self.generalForm.visible&&(self.generalForm.visible=!1,self.generalForm.error=!1),self.generalForm.status=e.data.status.message,window.location.href="#top",""==self.generalForm.phone?self.generalForm.dopytajTelefon=!0:self.generalForm.dopytajTelefon=!1,gtag("event","conversion",{send_to:"AW-1066307146/6q0VCPm8mcABEMqcuvwD"})):alert(e.data.status.message)}).catch(function(e){})},mouseLeave:function(){this.generalForm.moc>=this.generalForm.mocMinimalna&&totop&&(this.generalForm.outModal=!0)}},computed:{generalFormSubmitActive:function(){return""!=this.generalForm.email}}});
